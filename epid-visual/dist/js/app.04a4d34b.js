(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var h=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},o=[],i={name:"App",data:function(){return{}}},s=i,c=a("2877"),l=a("6544"),h=a.n(l),u=a("7496"),d=a("f6c4"),f=Object(c["a"])(s,n,o,!1,null,null,null),p=f.exports;h()(f,{VApp:u["a"],VMain:d["a"]});var m=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Index")},g=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-img",{staticClass:"my-3",attrs:{src:"https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/zh/images/index-home-pie.png?_v_=20200710_1",contain:"",height:"200"}})],1),a("v-col",{staticClass:"mb-4",attrs:{cols:"12"}},[a("h2",{staticClass:"display-1 font-weight-bold mb-3"},[e._v(" 欢迎使用疫情信息查询及趋势预测系统 ")])]),a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"mb-5",attrs:{cols:"7"}},[a("v-text-field",{attrs:{label:"输入想要查询的城市/省份/州",dense:"",outlined:"",clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchString(t)}},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.search}},[e._v(" 搜索 ")])],1),a("v-col",{attrs:{cols:"12"}},[a("div",{ref:"echart",staticStyle:{margin:"0 auto",left:"0",right:"0",height:"400px",width:"60%"}})])],1)],1)],1)},w=[],y=(a("d3b7"),a("ac1f"),a("1276"),a("5319"),a("b0c0"),a("313e")),S={name:"Index",data:function(){return{searchString:"",loading:!1,echart:{}}},mounted:function(){var e=this;this.echart=y["a"](this.$refs.echart),this.echart.showLoading(),fetch("https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data/asset/geo/USA.json").then((function(e){return e.json()})).then((function(t){e.echart.hideLoading(),y["b"]("USA",t,{Alaska:{left:-131,top:25,width:15},Hawaii:{left:-110,top:28,width:5},"Puerto Rico":{left:-76,top:26,width:2}});var a={title:{text:"USA Covid-19 Estimates",left:"right"},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2,formatter:function(e){var t=(e.data.value[1]+"").split(".");t=t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,");var a=(e.data.value[0]+"").split(".");return a=a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,"),e.data.name+"<br/>cases: "+t+"<br/>death: "+a}},visualMap:{left:"right",min:0,max:1e5,seriesIndex:0,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},text:["High","Low"],calculable:!0},series:[{name:"USA PopEstimates",type:"map",roam:!1,map:"USA",emphasis:{label:{show:!0}},textFixed:{Alaska:[20,-20]},data:[]}]};fetch("http://34.96.239.6:8111/api/states/all").then((function(e){return e.json()})).then((function(t){a.series[0].data=t.data,e.echart.setOption(a)})).catch((function(e){throw new Error(e)}))}))},methods:{search:function(){var e=this.dealWithData(),t={geo:{roam:!1,center:[31.38,-96.08],label:{show:!0}},series:[{type:"map",map:"USA",roam:!1,label:{normal:{show:!1},emphasis:{show:!1}}},{name:"Selected",type:"effectScatter",coordinateSystem:"geo",data:e,symbolSize:9,tooltip:{formatter:function(e){return e.data.name+"<br/>确诊人数："+e.data.case.confirmed+"<br/>死亡人数："+e.data.case.death},show:!0},encode:{value:2},showEffectOn:"render",rippleEffect:{brushType:"stroke",color:"#0efacc",period:9,scale:5},hoverAnimation:!0,label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"#0efacc",shadowBlur:2,shadowColor:"#333"},zlevel:1}]};this.echart.setOption(t),this.loading=!0,fetch("http://34.96.239.6:8111/api/search?string=".concat(this.searchString)).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){throw new Error(e)})),this.loading=!1},dealWithData:function(){var e=[];return this.searchString&&geoCoordMap[this.searchString]&&e.push({name:this.searchString,value:geoCoordMap[this.searchString].geo,case:geoCoordMap[this.searchString].case}),e}}},x=S,j=a("8336"),O=a("62ad"),_=a("a523"),k=a("adda"),C=a("0fd9"),A=a("8654"),E=Object(c["a"])(x,b,w,!1,null,null,null),M=E.exports;h()(E,{VBtn:j["a"],VCol:O["a"],VContainer:_["a"],VImg:k["a"],VRow:C["a"],VTextField:A["a"]});var P={name:"Home",components:{Index:M}},V=P,$=Object(c["a"])(V,v,g,!1,null,null,null),U=$.exports;r["a"].use(m["a"]);var I=[{path:"/",name:"Home",component:U}],T=new m["a"]({mode:"history",base:"/",routes:I}),D=T,H=a("2f62");r["a"].use(H["a"]);var z=new H["a"].Store({state:{},mutations:{},actions:{},modules:{}}),L=a("f309");r["a"].use(L["a"]);var R=new L["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:D,store:z,vuetify:R,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=app.04a4d34b.js.map